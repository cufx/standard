<?xml version="1.0" encoding="utf-8"?>
<xs:schema
	targetNamespace="http://cufxstandards.com/v4/AccessProfile.xsd"
	version="4.4.$Revision$"
	xmlns="http://cufxstandards.com/v4/AccessProfile.xsd"
	xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:party="http://cufxstandards.com/v4/Party.xsd"
	xmlns:isoCountryCodeType="http://cufxstandards.com/v4/ISOCountryCodeType-V2006.xsd"
	xmlns:relationship="http://cufxstandards.com/v4/Relationship.xsd"
	xmlns:credentialGroup="http://cufxstandards.com/v4/CredentialGroup.xsd"
	xmlns:common="http://cufxstandards.com/v4/Common.xsd"
	elementFormDefault="qualified"
	attributeFormDefault="unqualified">

	<xs:import namespace="http://cufxstandards.com/v4/Party.xsd" schemaLocation="Party.xsd" />
	<xs:import namespace="http://cufxstandards.com/v4/ISOCountryCodeType-V2006.xsd" schemaLocation="ISOCountryCodeType-V2006.xsd" />
	<xs:import namespace="http://cufxstandards.com/v4/Relationship.xsd" schemaLocation="Relationship.xsd" />
	<xs:import namespace="http://cufxstandards.com/v4/CredentialGroup.xsd" schemaLocation="CredentialGroup.xsd" />
	<xs:import namespace="http://cufxstandards.com/v4/Common.xsd" schemaLocation="Common.xsd" />

	<xs:element name= "accessProfileList" type ="AccessProfileList">
		<xs:annotation>
			<xs:documentation>
				The access profile collection/array contains all the access profiles, for instance, that the credential set is
				authorized to access at the Institution based on applied filters.
			</xs:documentation>
		</xs:annotation>
	</xs:element>

	<xs:complexType name="AccessProfileList">
		<xs:annotation>
			<xs:documentation>
				The access profile collection/array contains all the access profiles, for instance, that the credential set is
				authorized to access at the Institution based on applied filters.
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="common:ListBase">
				<xs:sequence>
					<xs:element name="accessProfile" type="AccessProfile" minOccurs="0" maxOccurs="unbounded">
						<xs:annotation>
							<xs:documentation>
								The access profile is a collection of attributes that describe the device used to access an application.
								This profile may describe a mobile phone, laptop, personal computer, IVR system, or other.
							</xs:documentation>
						</xs:annotation>
					</xs:element >
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

	<xs:complexType name="AccessProfile">
		<xs:sequence>
			<xs:element name="accessProfileId" type="AccessProfileId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						An identification descriptor that identifies the access profile.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="actor" type="Actor" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The person, place or thing that is accessing the application.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="language" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The language that the client application is presenting.
						Don't restrict to ISO language standard collected from remote system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="locale" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The country where the client application originates.
						Don't restrict to ISO country code standard collected from remote system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="characterEncoding" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The browser's character encoding.  Some examples are UTF-8, UTF-16, and Unicode.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="createAccessDateTime" type="xs:dateTime" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The date and time this profile was created.
						The date/time should be ISO 8601 UTC format.
						yyyy-mm-ddThh:mmZ (2011-03-28T12:00Z) or yyyy-mm-dd (2011-03-28)
						formats are supported.  The time is assumed to be 00:00Z if omitted.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="savedAccessProfile" type="xs:boolean" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						This attribute indicates a profile that the user wants to remember as safe.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="softwareClient" type="SoftwareClient" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The software client information profile, i.e. user agent information or other software information.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="device" type="Device" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The device information profile that is accessing the system information.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
			
			<xs:element name="customData" type="common:CustomData"  minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						Access profile level name/data pairs list of fields that are not yet available in the general
						specification.  This should be used as a LAST RESORT as any customizations will not be supported by all
						data providers or processed by all client applications. ANY use of this field must be reported to the
						architecture or working group committee to ensure that fields are somehow handled in the future release
						of specifications.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="AccessProfileId">
		<xs:restriction base="xs:string">
			<xs:annotation>
				<xs:documentation>
					The unique ID associated with a message or group of messages.
				</xs:documentation>
			</xs:annotation>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="AccessProfileIdList">
		<xs:annotation>
			<xs:documentation>
				The access profile collection/array contains all the access profiles, for instance, that the credential set is
				authorized to access at the Institution based on applied filters.
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="common:ListBase">
				<xs:sequence>
					<xs:element name="accessProfileId" type="AccessProfileId" minOccurs="0" maxOccurs="unbounded">
						<xs:annotation>
							<xs:documentation>
								The access profile ID list is a collection of attributes that describe the device used to access an application.
								This profile may describe a mobile phone, laptop, personal computer, IVR system, or other.
							</xs:documentation>
						</xs:annotation>
					</xs:element >
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

	<xs:complexType name="Actor">
		<xs:annotation>
			<xs:documentation>
				Intended choice- Due to cross language serialization issues the choice construct has been removed.
				It is the responsibility of the implementer to add programmatic logic for this complex type to detect,
				handle and or error when population of more than one element is present.
			</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="fiUserId" type="credentialGroup:FiUserId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The user allowed to perform the action.
						May be depreciated in favor of use of userId.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="userId" type="common:UserId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The user allowed to perform the action.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="partyId" type="party:PartyId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The party allowed to perform the action.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="relationshipId" type="relationship:RelationshipId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The relationship allowed to perform the action.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

		</xs:sequence>
	</xs:complexType>

	<xs:complexType name="ActorList">
		<xs:annotation>
			<xs:documentation>
				The access profile collection/array contains all the actors, for instance, that the credential set is
				authorized to access at the Institution based on applied filters.
			</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="common:ListBase">
				<xs:sequence>
					<xs:element name="actor" type="Actor" minOccurs="0" maxOccurs="unbounded">
						<xs:annotation>
							<xs:documentation>
								The person, place or thing that is accessing the application.
							</xs:documentation>
						</xs:annotation>
					</xs:element >
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>

	<xs:complexType name="SoftwareClient">
		<xs:annotation>
			<xs:documentation>
				The software client information profile, i.e. user agent information or other software information.
			</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="softwareClientId" type="SoftwareClientId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The unique software client information identifier.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="rawSoftwareClientDetail" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						This is a raw footprint of data from the client system that is accessing the application.
						If the user string is present, this can hold the full/unedited user agent string or other identifying text.
						Some of the information in this field may be parsed to populate fields below.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="browserName" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						The name of the browser, if a browser is used to run client application.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="browserVersion" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						The version of the browser, if a browser is used to run client application.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="operatingSystemName" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						The name of the operating system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="operatingSystemVersion" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						The version of the operating system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="SoftwareClientId">
		<xs:restriction base="xs:string">
			<xs:annotation>
				<xs:documentation>
					The unique software client information identifier.
				</xs:documentation>
			</xs:annotation>
		</xs:restriction>
	</xs:simpleType>

	<xs:complexType name="Device">
		<xs:annotation>
			<xs:documentation>
				The device information profile that is accessing the system information.
			</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="deviceId" type="DeviceId" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The unique device identifier.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="deviceType" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						A text description of the device or channel used to access application.
						This may be mobile, personal computer, or other.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="deviceName" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The name associated with the device accessing the application.
						This may be a device name assigned by the operating system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="rawDeviceDetail" type="xs:string" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						This is a raw footprint of data about the device from the client system that is accessing the application.
						The device might be a tablet, mobile phone, computer, or phone number in the case of IVR system.
						Some of the information in this field may be parsed to populate fields below.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="ipAddress" type="common:IpAddress" minOccurs="0" maxOccurs="1" >
				<xs:annotation>
					<xs:documentation>
						The originating IP address.
					</xs:documentation>
				</xs:annotation>
			</xs:element>

			<xs:element name="manufacturer" type="xs:string" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>
						The name associated with the device accessing the application.
						This may be a device name assigned by the operating system.
					</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
	</xs:complexType>

	<xs:simpleType name="DeviceId">
		<xs:restriction base="xs:string">
			<xs:annotation>
				<xs:documentation>
					The unique device identifier.
				</xs:documentation>
			</xs:annotation>
		</xs:restriction>
	</xs:simpleType>

</xs:schema>
